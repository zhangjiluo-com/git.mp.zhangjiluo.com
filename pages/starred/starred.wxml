<view class="container">
  <!-- æœªæˆæƒæç¤º -->
  <view wx:if="{{!isAuth}}" class="auth-tip">
    <text class="tip-text">è¯·å…ˆæˆæƒç™»å½•</text>
    <button class="btn-auth" bindtap="goToAuth">å»æˆæƒ</button>
  </view>

  <!-- æ”¶è—åˆ—è¡¨ -->
  <view wx:else class="starred-container">
    <view wx:if="{{repos.length === 0 && !isLoading}}" class="empty">
      <text class="empty-text">æš‚æ— æ”¶è—çš„ä»“åº“</text>
    </view>

    <view wx:elif="{{isLoading}}" class="loading">
      <text class="loading-text">åŠ è½½ä¸­...</text>
    </view>

    <view wx:else class="repo-list">
      <view 
        wx:for="{{repos}}" 
        wx:key="id" 
        class="repo-item" 
        bindtap="goToRepo" 
        data-repo="{{item}}">
        <view class="repo-header">
          <text class="repo-name">{{item.full_name}}</text>
          <text class="repo-lang" wx:if="{{item.language}}">{{item.language}}</text>
        </view>
        <text class="repo-desc">{{item.description || 'æš‚æ— æè¿°'}}</text>
        <view class="repo-footer">
          <view class="repo-stats">
            <view class="stat-item">
              <text class="stat-icon">â­</text>
              <text class="stat-text">{{item.stargazers_count}}</text>
            </view>
            <view class="stat-item">
              <text class="stat-icon">ğŸ”„</text>
              <text class="stat-text">{{item.forks_count}}</text>
            </view>
          </view>
          <button 
            class="unstar-btn" 
            bindtap="unstarRepo" 
            data-repo="{{item}}">
            å–æ¶ˆæ”¶è—
          </button>
        </view>
      </view>

      <!-- åŠ è½½æ›´å¤š -->
      <view class="load-more" wx:if="{{hasMore}}">
        <text class="load-text">åŠ è½½ä¸­...</text>
      </view>
      <view class="load-more" wx:else>
        <text class="load-text">æ²¡æœ‰æ›´å¤šäº†</text>
      </view>
    </view>
  </view>
</view>