<view class="container">
  <view class="search-bar">
    <input 
      class="search-input" 
      placeholder="æœç´¢ä»“åº“åã€ä»“åº“æè¿°" 
      value="{{keyword}}"
      bindinput="onInput"
      bindconfirm="onSearch"
      confirm-type="search"
    />
    <button class="search-btn" bindtap="onSearch" disabled="{{!keyword}}">
      æœç´¢
    </button>
  </view>

  <!-- æœç´¢ç»“æœ -->
  <view class="result-container">
    <view wx:if="{{isSearching}}" class="loading">
      <text class="loading-text">æœç´¢ä¸­...</text>
    </view>

    <view wx:elif="{{repos.length > 0}}" class="repo-list">
      <view 
        wx:for="{{repos}}" 
        wx:key="id" 
        class="repo-item" 
        bindtap="goToRepo" 
        data-repo="{{item}}">
        <view class="repo-header">
          <text class="repo-name">{{item.full_name}}</text>
          <text class="repo-lang" wx:if="{{item.language}}">{{item.language}}</text>
        </view>
        <text class="repo-desc">{{item.description || 'æš‚æ— æè¿°'}}</text>
        <view class="repo-footer">
          <view class="repo-stats">
            <view class="stat-item">
              <text class="stat-icon">â­</text>
              <text class="stat-text">{{item.stargazers_count}}</text>
            </view>
            <view class="stat-item">
              <text class="stat-icon">ğŸ”„</text>
              <text class="stat-text">{{item.forks_count}}</text>
            </view>
          </view>
          <button 
            class="star-btn {{item.starred ? 'starred' : ''}}" 
            bindtap="toggleStar" 
            data-repo="{{item}}">
            {{item.starred ? 'å–æ¶ˆæ”¶è—' : 'æ”¶è—'}}
          </button>
        </view>
      </view>

      <!-- åŠ è½½æ›´å¤š -->
      <view class="load-more" wx:if="{{hasMore}}">
        <text class="load-text">åŠ è½½ä¸­...</text>
      </view>
      <view class="load-more" wx:else>
        <text class="load-text">æ²¡æœ‰æ›´å¤šäº†</text>
      </view>
    </view>

    <view wx:elif="{{keyword && !isSearching}}" class="empty">
      <text class="empty-text">æ²¡æœ‰æ‰¾åˆ°ç›¸å…³ä»“åº“</text>
    </view>

    <view wx:else class="hint">
      <text class="hint-text">è¯·è¾“å…¥å…³é”®è¯æœç´¢ä»“åº“</text>
    </view>
  </view>
</view>